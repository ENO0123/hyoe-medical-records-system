# サーバー起動手順

## 概要

開発サーバーはポート3000で起動します。自動ログイン機能は無効化されており、すべてのアカウントでID/PASSによるログインが必要です。

## 起動手順

プロジェクトディレクトリで以下のコマンドを実行：

```bash
cd "/Users/ryoenomoto/work/11_兵衛/電子カルテ"
pnpm dev
```

これでポート3000でサーバーが起動します。

## ログインについて

- **自動ログイン機能は無効化されています**
- すべてのアカウント（管理者・医師）でID/PASSによるログインが必要です
- ログイン画面（`http://localhost:3000/login`）からログインしてください

### 管理者アカウント
- ログインID: `amano`
- パスワード: `hyoe0118`

### 医師アカウント
- 各医師に設定されたログインIDとパスワードを使用してください

## データベース接続の確認

サーバー起動後、初回のAPIリクエスト時にデータベース接続が試みられます。
接続が成功すると、コンソールに以下のメッセージが表示されます：

```
[Database] Successfully connected to MySQL
```

接続に失敗した場合は、エラーメッセージが表示されます。

## トラブルシューティング

### ポートが使用できない場合

サーバーは自動的に利用可能なポートで起動します。
ログに以下のようなメッセージが表示されます：

```
Port 3000 is busy, using port 3001 instead
```

### データベース接続エラーが発生する場合

1. `.env`ファイルの`DATABASE_URL`を確認
2. MySQLサーバーが起動しているか確認
3. データベース`medical_records`が存在するか確認
4. ユーザー名とパスワードが正しいか確認

### ログインできない場合

1. サーバーのコンソールログを確認してください
2. ログインIDとパスワードが正しいか確認してください
3. ブラウザの開発者ツールでネットワークタブを確認し、エラーレスポンスを確認してください
