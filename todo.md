# 電子カルテシステム TODO

## データベース設計
- [x] 顧問医師マスタテーブルの作成
- [x] 患者マスタテーブルの作成
- [x] 検査項目マスタテーブルの作成
- [x] 受診記録テーブルの作成
- [x] 検査結果テーブルの作成

## バックエンドAPI実装
- [x] 顧問医師マスタCRUD API
- [x] 患者マスタCRUD API（権限管理含む）
- [x] 検査項目マスタCRUD API
- [x] 受診記録CRUD API
- [x] 検査結果CRUD API（基準値判定含む）
- [x] 基準値超え一覧取得API
- [x] ダッシュボード統計情報API

## フロントエンド実装
- [x] デザインシステムとテーマ設定
- [x] ダッシュボードレイアウトとナビゲーション
- [x] ホーム画面（ダッシュボード）
- [x] 顧問医師マスタ管理画面
- [x] 検査項目マスタ管理画面
- [x] 患者一覧画面
- [ ] 患者登録・編集画面
- [x] 患者詳細画面（患者軸カルテ）
- [x] 検査結果時系列表示とカテゴリ別フィルタリング
- [x] 受診記録一覧画面
- [ ] 受診記録登録・編集画面
- [ ] 検査結果登録・編集画面
- [x] 基準値超え一覧画面
- [x] 検索・フィルタ機能

## 権限管理
- [x] ロールベースアクセス制御の実装
- [x] 顧問医師の担当患者のみアクセス制限
- [x] 管理者の全データアクセス権限

## テストと品質保証
- [ ] バックエンドユニットテスト
- [ ] 権限管理のテスト
- [x] フロントエンド動作確認
- [x] レスポンシブデザイン確認


## 新規要件（ユーザーリクエスト）
- [x] TOPページのシンプル化（患者一覧、新規患者登録ボタン、検査結果登録ボタン、顧問医師管理リンク）
- [x] 患者詳細画面の検査結果マトリックス表示（左：検査項目、上：日付、時系列で左から右へ）
- [x] 日付選択とハイライト機能
- [x] 基準値超えの色分け表示（ピンク：高値、シアン：低値）
- [x] カテゴリタブによるフィルタリング（すべて、糖尿、貧血、血液、尿、身長体重）
- [x] 検査結果新規追加ポップアップフォーム（TOPページと患者詳細から）
- [x] 患者登録フォームの実装

## 検査項目マスタの充実（ユーザーリクエスト）
- [x] 糖尿カテゴリの検査項目追加（空腹時血糖、HbA1c、随時血糖など）
- [x] 貧血カテゴリの検査項目追加（赤血球数、ヘモグロビン、ヘマトクリット、MCV、MCH、MCHCなど）
- [x] 血液カテゴリの検査項目追加（白血球数、血小板数、総コレステロール、HDL/LDL、中性脂肪、AST、ALT、γ-GTP、尿酸、クレアチニン、尿素窒素など）
- [x] 尿カテゴリの検査項目追加（尿蛋白、尿糖、尿潜血、尿pH、尿比重など）
- [x] 身長/体重カテゴリの検査項目追加（身長、体重、BMI、腹囲、血圧など）
- [x] 検査項目マスタデータの投入スクリプト作成
- [x] 動作確認とテスト

## 検査結果登録フォームの改善（ユーザーリクエスト）
- [x] 項目選択式から全項目一括入力式に変更
- [x] カテゴリごとにセクション分けして全32項目を表示
- [x] 各項目に単位と基準値を表示
- [x] 入力しやすいレイアウトに改善
- [x] 動作確認とテスト
